// frontend/src/components/ProcessingStatus.tsx\n/**\n * ProcessingStatus Component\n * Displays real-time processing progress with animated indicators\n */\n\nimport React, { useEffect, useState } from 'react'\nimport { motion } from 'framer-motion'\nimport { Zap, Cloud, Sparkles, CheckCircle } from 'lucide-react'\nimport type { ProcessingJob } from '../types'\n\ninterface ProcessingStatusProps {\n  job: ProcessingJob\n  wsConnected: boolean\n}\n\nconst ProcessingStatus: React.FC<ProcessingStatusProps> = ({ job, wsConnected }) => {\n  const [displayProgress, setDisplayProgress] = useState(0)\n\n  // Animate progress bar\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setDisplayProgress(prev =>\n        prev < (job.progress_percent - 5)\n          ? prev + 1\n          : prev < job.progress_percent\n          ? prev + 0.5\n          : prev\n      )\n    }, 50)\n\n    return () => clearInterval(timer)\n  }, [job.progress_percent])\n\n  const steps = [\n    { id: 1, label: 'Extracting content', progress: 25 },\n    { id: 2, label: 'Analyzing content', progress: 50 },\n    { id: 3, label: 'Generating content', progress: 75 },\n    { id: 4, label: 'Finalizing', progress: 100 },\n  ]\n\n  const currentStepIndex = steps.findIndex(s => s.progress >= job.progress_percent)\n\n  const containerVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n      opacity: 1,\n      transition: {\n        staggerChildren: 0.15,\n        delayChildren: 0.2,\n      },\n    },\n  }\n\n  const itemVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: { duration: 0.4 },\n    },\n  }\n\n  return (\n    <motion.div\n      className=\"relative\"\n      variants={containerVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n    >\n      {/* Background card */}\n      <div className=\"absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 rounded-2xl blur-xl\" />\n\n      <div className=\"relative bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8 lg:p-12 space-y-8\">\n        {/* Header */}\n        <motion.div className=\"text-center space-y-2\" variants={itemVariants}>\n          <motion.div\n            className=\"inline-block\"\n            animate={{ rotate: 360 }}\n            transition={{ duration: 3, repeat: Infinity, ease: 'linear' }}\n          >\n            <Zap className=\"w-8 h-8 text-emerald-400\" />\n          </motion.div>\n          <h3 className=\"text-2xl font-bold text-white\">Processing Your Content</h3>\n          <p className=\"text-slate-400\">This usually takes 30-60 seconds</p>\n        </motion.div>\n\n        {/* Connection Status */}\n        {!wsConnected && (\n          <motion.div\n            className=\"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30 flex items-center gap-2 text-yellow-300 text-sm\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n          >\n            <motion.div\n              className=\"w-2 h-2 rounded-full bg-yellow-400\"\n              animate={{ opacity: [1, 0.5, 1] }}\n              transition={{ duration: 1.5, repeat: Infinity }}\n            />\n            Connecting to server...\n          </motion.div>\n        )}\n\n        {/* Main Progress Indicator */}\n        <motion.div className=\"space-y-4\" variants={itemVariants}>\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-sm font-medium text-slate-300\">Overall Progress</span>\n            <span className=\"text-sm font-bold text-emerald-400\">{Math.round(job.progress_percent)}%</span>\n          </div>\n\n          {/* Progress bar with glow effect */}\n          <div className=\"relative h-3 bg-slate-800/50 rounded-full overflow-hidden border border-slate-700/50\">\n            {/* Glow behind */}\n            <motion.div\n              className=\"absolute inset-0 bg-gradient-to-r from-transparent via-emerald-500/50 to-transparent opacity-0\"\n              animate={{ opacity: [0, 0.5, 0], x: [-100, 100] }}\n              transition={{ duration: 2, repeat: Infinity }}\n            />\n            {/* Actual progress */}\n            <motion.div\n              className=\"h-full bg-gradient-to-r from-emerald-500 to-cyan-500 rounded-full\"\n              animate={{ width: `${displayProgress}%` }}\n              transition={{ duration: 0.5 }}\n            />\n          </div>\n        </motion.div>\n\n        {/* Step Progress */}\n        <motion.div className=\"space-y-4\" variants={itemVariants}>\n          {steps.map((step, idx) => {\n            const isActive = idx === currentStepIndex || idx < currentStepIndex\n            const isCurrentStep = idx === currentStepIndex\n\n            return (\n              <motion.div\n                key={step.id}\n                className=\"flex items-center gap-4\"\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: idx * 0.1 }}\n              >\n                {/* Step indicator */}\n                <motion.div\n                  className={`relative w-10 h-10 rounded-full flex items-center justify-center font-bold flex-shrink-0 ${\n                    isActive\n                      ? 'bg-gradient-to-r from-emerald-500 to-cyan-500 text-white'\n                      : 'bg-slate-800/50 text-slate-500 border border-slate-700/50'\n                  }`}\n                  animate={isCurrentStep ? { scale: [1, 1.1, 1] } : {}}\n                  transition={isCurrentStep ? { duration: 0.6, repeat: Infinity } : {}}\n                >\n                  {idx < currentStepIndex ? (\n                    <CheckCircle className=\"w-6 h-6\" />\n                  ) : (\n                    step.id\n                  )}\n                </motion.div>\n\n                {/* Step label and progress */}\n                <div className=\"flex-1\">\n                  <p className={`text-sm font-medium ${\n                    isActive ? 'text-white' : 'text-slate-500'\n                  }`}>\n                    {step.label}\n                  </p>\n                  {isCurrentStep && (\n                    <motion.p\n                      className=\"text-xs text-emerald-400 mt-1\"\n                      initial={{ opacity: 0 }}\n                      animate={{ opacity: 1 }}\n                    >\n                      {job.current_step || 'Processing...'}\n                    </motion.p>\n                  )}\n                </div>\n\n                {/* Step progress bar */}\n                <div className=\"hidden sm:flex items-center gap-2 min-w-[100px]\">\n                  <div className=\"flex-1 h-1 bg-slate-800/50 rounded-full overflow-hidden\">\n                    <motion.div\n                      className=\"h-full bg-gradient-to-r from-emerald-500 to-cyan-500 rounded-full\"\n                      initial={{ width: 0 }}\n                      animate={{\n                        width: isCurrentStep\n                          ? `${Math.max(\n                            (job.progress_percent - (step.progress - 25)) / 25 * 100,\n                            10\n                          )}%`\n                          : isActive\n                          ? '100%'\n                          : '0%',\n                      }}\n                      transition={{ duration: 0.3 }}\n                    />\n                  </div>\n                  <span className=\"text-xs text-slate-500 font-mono min-w-[30px]\">\n                    {isCurrentStep\n                      ? Math.max(\n                        Math.min(\n                          Math.round(\n                            ((job.progress_percent - (step.progress - 25)) / 25) * 100\n                          ),\n                          100\n                        ),\n                        0\n                      )\n                      : isActive\n                      ? '100'\n                      : '0'}%\n                  </span>\n                </div>\n              </motion.div>\n            )\n          })}\n        </motion.div>\n\n        {/* Animated elements */}\n        <motion.div className=\"flex items-center justify-center gap-2\" variants={itemVariants}>\n          {[0, 1, 2].map(i => (\n            <motion.div\n              key={i}\n              className=\"w-2 h-2 rounded-full bg-emerald-500\"\n              animate={{ scale: [1, 1.5, 1], opacity: [0.5, 1, 0.5] }}\n              transition={{\n                duration: 1.5,\n                repeat: Infinity,\n                delay: i * 0.2,\n              }}\n            />\n          ))}\n        </motion.div>\n\n        {/* Time estimate */}\n        {job.estimated_time_remaining_seconds && (\n          <motion.div\n            className=\"text-center text-sm text-slate-500\"\n            variants={itemVariants}\n          >\n            Estimated time remaining:{' '}\n            <span className=\"font-semibold text-slate-300\">\n              ~{Math.ceil(job.estimated_time_remaining_seconds / 60)}m\n            </span>\n          </motion.div>\n        )}\n      </div>\n    </motion.div>\n  )\n}\n\nexport default ProcessingStatus
